<!DOCTYPE html>
<html>

<head>
  <title>Real time online activity monitor example with node.js and WebSocket</title>
<script src="/socket.io/socket.io.js"></script>

</head>

<body>
  <h1>Counter : <span id="socket_io_counter"></span></h1>
    <script type="text/javascript">
      //socket io number of clients in room
      //var socket = io.connect('http://localhost:8001');
      //   var socket = io('http://localhost:5034', { transports: ['websocket', 'polling', 'flashsocket'] });
      // console.log(socket);
      // socket.on('socket_io_counter', function (response) {
      //   $("#socket_io_counter").text(response.flags);
      // });

        //   var socket = io('http://localhost:5034', { transports: ['websocket', 'polling', 'flashsocket'] });
        // console.log('check 1', socket.connected);
        // socket.on('connect', function () {
        //   console.log('check 2', socket.connected);
        // });

  const socket = io('http://localhost:5034');

  socket.on('connect', () => {
    // either with send()
    socket.send('Hello!');

    // or with emit() and custom event names
    socket.emit('salutations', 'Hello!', { 'mr': 'john' }, Uint8Array.from([1, 2, 3, 4]));
  });

  // handle the event sent with socket.send()
  socket.on('message', data => {
    console.log(data);
  });

  // handle the event sent with socket.emit()
  socket.on('greetings', (elem1, elem2, elem3) => {
    console.log(elem1, elem2, elem3);
  });
    </script>
</body>

</html>